# flyingfiles

本项目主要实现基于TCP的大文件快速传输。  
  
## 使用说明
- 程序分为服务端与客户端，分别对应 file_server.go 与 file_client.go
- file_store 文件夹存储上传下载的文件，out 文件夹存放服务端可被下载的文件，in 文件夹存放客户端从服务端下载的文件
- 服务端需要开放 9090 端口
- 启动服务端，然后启动客户端，并输入服务端地址及所要下载的文件名即可 
  
  
**关键逻辑**  
1. 针对大文件，服务端会按照指定的大小对其进行逻辑拆分，同时生成文件摘要。
2. 客户端请求文件时，会根据文件摘要，生成相应的协程，并发下载子文件。
3. 服务端实现了简单的会话机制，以对访问同一文件的多个客户端链接进行标识。
4. 客户端在完成所有子文件的下载后，对子文件进行合并，并根据文件摘要进行文件完整性校验。
5. 客户端与服务端在 init 时均指定了逻辑处理器数量，实际使用时酌情修改之。

## 备注说明
- 程序尚有巨大的可优化空间，本项目只为示例练手
- ~~服务端将数据文件拆分为子文件的设计不好，等有空再修改之~~ (已修改)
- S与C端的socket链接通讯只是为了功能做了简单的实现，缺乏有效的设计
- 下载不成功的自动重试等功能尚未实现
- 整体规划中还包括GUI，待有空再实现之
- 日志随便胡乱一搞，有空再优化之

## License  

The [BSD 3-Clause license](http://opensource.org/licenses/BSD-3-Clause), the same as the [Go language](http://golang.org/LICENSE).
